SET (CMAKE_MODULE_PATH "${CMAKE_CURRENT_SOURCE_DIR}/cmake")

INCLUDE_DIRECTORIES (${ONLINEBOOKMARKS_INCLUDE_DIR}
	${CMAKE_CURRENT_BINARY_DIR}
	${CMAKE_CURRENT_SOURCE_DIR}
	)

SET (DELICIOUS_SRCS
	delicious.cpp
	deliciousauthwidget.cpp
	deliciousservice.cpp
	deliciousaccount.cpp
	deliciousapi.cpp
	)

SET (DELICIOUS_HEADERS
	delicious.h
	deliciousauthwidget.h
	deliciousservice.h
	deliciousaccount.h
	deliciousapi.h
	)

SET (DELICIOUS_FORMS deliciousauthwidget.ui)

SET (DELICIOUS_RESOURCES onlinebookmarksdelicious.qrc)
CreateTrVars ("poshuku_onlinebookmarks_delicious" "en;ru_RU;uk_UA" ONLINEBOOKMARKS_DELICIOUS_TRANSLATIONS ONLINEBOOKMARKS_DELICIOUS_COMPILED_TRANSLATIONS)

IF (NOT LC_NO_MOC)
	QT4_WRAP_CPP (DELICIOUS_MOC_SRCS ${DELICIOUS_HEADERS})
ENDIF (NOT LC_NO_MOC)
QT4_WRAP_UI (DELICIOUS_UIS_H ${DELICIOUS_FORMS})
QT4_ADD_RESOURCES (DELICIOUS_RCCS ${DELICIOUS_RESOURCES})
ADD_CUSTOM_COMMAND (OUTPUT
 	${ONLINEBOOKMARKS_DELICIOUS_COMPILED_TRANSLATIONS}
 	COMMAND "${QT_LRELEASE_EXECUTABLE}" ${ONLINEBOOKMARKS_DELICIOUS_TRANSLATIONS}
 	DEPENDS ${ONLINEBOOKMARKS_DELICIOUS_TRANSLATIONS}
 	WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
 	)
ADD_LIBRARY (leechcraft_poshuku_onlinebookmarks_delicious SHARED
 	${ONLINEBOOKMARKS_DELICIOUS_COMPILED_TRANSLATIONS}
	${DELICIOUS_SRCS}
	${DELICIOUS_MOC_SRCS}
	${DELICIOUS_UIS_H}
	${DELICIOUS_RCCS}
	)

TARGET_LINK_LIBRARIES (leechcraft_poshuku_onlinebookmarks_delicious
	${QT_LIBRARIES}
	${LEECHCRAFT_LIBRARIES}
	)

INSTALL (TARGETS leechcraft_poshuku_onlinebookmarks_delicious DESTINATION ${LC_PLUGINS_DEST})
INSTALL (FILES ${ONLINEBOOKMARKS_DELICIOUS_COMPILED_TRANSLATIONS} DESTINATION ${LC_TRANSLATIONS_DEST})
